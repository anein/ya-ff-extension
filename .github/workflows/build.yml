name: "Build"
on:
  push:
    branches:
      - main

jobs:
  sign:
    name: "Release"
    runs-on: ubuntu-latest
    steps:
    - uses: trmcnvn/firefox-addon@v1
      with:
        # uuid is only necessary when updating an existing addon,
        # omitting it will create a new addon
        xpi: build/my-addon.xpi
        manifest: ./src/manifest.json
        api-key: ${{ secrets.FIREFOX_API_KEY }}
        api-secret: ${{ secrets.FIREFOX_API_SECRET }}
